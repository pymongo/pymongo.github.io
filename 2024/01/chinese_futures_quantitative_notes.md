# [中国期货量读书笔记](/2024/01/chinese_futures_quantitative_notes.md)

在金融领域，尤其是在期货市场中，连续合约（Continuous Contract）指的是一种为了便于长期分析和交易而创造的合成合约。由于期货合约是有固定到期日的，当一个合约到期后，交易者需要转移到下一个交易月份的合约，这会造成价格、成交量等数据的不连续。为了解决这个问题，连续合约通过将历史上相继到期的合约数据“拼接”起来，形成一条可以追溯多年的连续价格走势线。

连续合约也可以理解成某商品最近成交量最大的合约，也可以理解成当周/当前周期的交割合约

所谓指数合约,指的是该品种上市的所有合约的加权合约(类似上证指数是市场几个蓝筹股的加权平均)。因此,实际上并不存在指数合约这
交易标的。之所以使用指数合约,是因为商品策略一般是隔夜策略,而连续合约在换月上会有较大跳空,回测
时候不准确

24-01-29读到1-2章 商品趋势策略(CTA)

## 夏普率

常数: 无风险(必定保本)下年化收益，一般取[美国10年国债年化收益](https://www.investing.com/rates-bonds/u.s.-10-year-bond-yield)

美国国债利息又是跟 [美联储利息相关 Federal Funds Rate](https://www.investing.com/economic-calendar/interest-rate-decision-168)

```python
def calculate_sharpe_ratio(returns, risk_free_rate):
    # Calculate the mean and standard deviation of returns
    mean_return = np.mean(returns)
    std_dev = np.std(returns)

    # Calculate Sharpe Ratio
    sharpe_ratio = (mean_return - risk_free_rate) / std_dev

    return sharpe_ratio

# Example monthly returns (percentage)
monthly_returns = [0.02, 0.03, -0.01, 0.015, 0.01, -0.02, 0.025, 0.03, -0.015, 0.02, 0.015, 0.01]

# Risk-free rate (2024-01 美国国债利息 4%)
risk_free_rate = 0.04

# Calculate Sharpe Ratio
sharpe_ratio = calculate_sharpe_ratio(monthly_returns, risk_free_rate)
```

夏普比率越高，说明单位风险所获得的收益越多

24-01-29读到 1.2.3

## 高维统计问题

在金融期货市场中，高维统计问题通常涉及到对大量变量的分析和预测，这些变量可能包括价格、交易量、利率、期货合约特性等。在这样的市场中，每一个变量都可能影响市场的走势，而它们之间也存在复杂的相互关系。以下是一些高维统计问题的特点和分析中可能遇到的挑战

1. **大量的特征变量**：金融期货市场中的模型可能需要考虑数百甚至数千个特征（变量），如各种金融指标、宏观经济数据、公司财报数据等

2. **共线性问题**：高维数据集中的变量往往存在共线性，即变量之间高度相关。这会使得统计模型难以区分各个变量对目标变量的独立影响

3. **维度灾难（Curse of Dimensionality）**：随着特征空间的维数增加，所需的样本量呈指数级增长，否则模型的泛化能力会大大降低。此外，高维空间的直觉和低维空间往往不同，导致在高维空间中进行直觉判断变得困难

4. **参数估计和模型选择**：在高维情况下，参数的估计变得更加困难，因为标准的估计方法（如最小二乘法）可能不再适用或者效果不佳。模型选择（如选择哪些变量进入模型）也变得更加复杂

5. **过拟合风险**：在高维数据中容易出现过拟合，即模型在训练数据上表现很好，但在未知数据上表现差为了解决这些问题，金融期货分析中的高维统计方法可能包括- **降维技术**：如主成分分析（PCA）、因子分析等，通过减少变量的数量来简化模型- **正则化方法**：如岭回归、Lasso回归等，在损失函数中加入正则项以减轻共线性问题和过拟合- **机器学习技术**：例如随机森林、梯度提升机、支持向量机等，这些方法可以处理非线性关系并在一定程度上减轻维数灾难- **贝叶斯方法**：因其可以通过先验知识来约束参数空间，对高维问题具有天然的优势处理这些高维统计问题的关键在于选取合适的模型、采用适当的技术来降维和正则化，并且在模型训练过程中采取措施避免过拟合。

期货市场一年就200多个交易日，每天日频的指标就几百个，特征特别多但是数据量小，这就是高维统计问题难以机器学习

## 术语解释

- 漂亮50: NIFTY 50 指数
- 一九行情: 10%的在涨其余再跌，二八行情同理20%在涨
- MAR比率: 年回报与最大回撤的比值
