<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset=UTF-8>
    <title>应聘Rust开发_吴翱翔</title>
    <style>
        .page-container {
            /* 820≈A4_width_2480x0.33 */
            width: 820px;
            margin: 0 auto;
        }
        * {
            margin: 0;
            padding: 0;
            font-family: "Microsoft Yahei", "PingFang SC", sans-serif;
        }
        .deprecated {
            display: none;
        }
        .divider {
            margin-top: 6px;
            margin-bottom: 6px;
            border-top: none;
            border-bottom: 1px solid #aaa;
            border-left: none;
            border-right: none;
        }
        .header1.resume-title {
            font-size: 22px;
            font-weight: 500;
            text-align: center;
        }
        /* 二级标题，如工作经历、项目经验 */
        .header2 {
            font-size: 16px;
            font-weight: normal;
        }
        /* 三级标题，如工作经历的公司名称、项目经验的项目名称。三级标题不会独占一行，项目标题、项目角色、项目周期共用一行。例如：后台管理系统 全栈开发 2019.11-至今 */
        .header3 {
            font-weight: normal;
            display: flex;
            justify-content: space-between;
            margin-top: 6px;
            margin-bottom: 6px;
        }
        .header3 .project-title {
            font-size: 15px;
            font-weight: 500;
            max-lines: 1;
            width: 325px;
        }
        .header3 .project-role {
            font-size: 13px;
            width: 225px;
        }
        .header3 .project-cycle {
            font-family: Times, serif;
            font-size: 14px;
            width: 120px;
        }
        pre.project-details {
            font-family: "Microsoft Yahei", Times, sans-serif;
        }
    </style>
</head>
<body>
<!--
## 项目经历修改框架
STAR法则：情境(situation)、任务(task)、行动(action)、结果(result)；
对于写简历来说，99%的人所犯的错误都是仅仅写了"任务task"，也就是仅罗列"干了什么"。

好的项目经历，应该包含：项目名称-项目角色-项目周期、项目简介/介绍/描述、项目背景、项目架构、主要工作、开源贡献(穿插)、个人收获/项目收获
不但完成了网站界面、调度队列的开发工作，更提出了高效的组件级缓存系统，通过碎片化缓冲有效的提升了系统的渲染效率。（F，这部分是很多同学忘掉的，细化具体工作，要写出你在这个项目中具体负责的部分，以及你贡献出来的价值）
在该系统上线后，Web前端性能从 10QPS 提升到 200QPS，服务器由 10 台减少到 3 台。（A，通过量化的数字进行对比）
2008 年，升任 WAPCMS 项目负责人，带领一个 3 人小组支持着每天超过 2 亿的 PV。（B，你能带给前雇主的价值，也就是你能带给新雇主的价值）

讲不出成绩时，就讲你的成长。因为学习能力也是每家公司都看中的东西。你可以写你在这个项目里边遇到了一个什么样的问题，
别人怎么解决的，你怎么解决的，【你的方案好在什么地方】，最终这个方案的效果如何。具体、量化、有说服力，是技术简历特别需要注重的地方。
-->

<div class="page-container">
    <h1 class="header1 resume-title">应聘Rust开发_吴翱翔</h1>
    <div style="text-align: center">17150313884| os.popen@gmail.com| 男/1997</div>
    <div style="text-align: center"><span class="bold">技术博客</span>: pymongo.github.io| Github账号: pymongo</div>
    <!-- <div style="text-align: center">leetcode账号: leetcode-cn.com/u/user0772-d</div> -->
    <hr class="divider">

    <!--
    <h2 class="header2">§ 教育经历</h2>
    <h3 class="header3">
        <span class="project-title">天津职业技术师范大学(本科)</span>
        <span class="project-role" style="font-size: 15px">电子信息工程</span>
        <span class="project-cycle" style="font-size: 16px">2015 - 2019</span>
    </h3>
    <hr class="divider">
    -->

    <h2 class="header2">§ 工作经历</h2>
    <h3 class="header3">
        <span class="project-title">北京范高科技有限公司</span>
        <span class="project-role">中级服务端开发</span>
        <span class="project-cycle">2020.9 - 至今</span>
    </h3>
    <p>・负责Rust protobuf/graphql服务端开发，主要业务是Instagram数据分析</p>
    <h3 class="header3">
        <span class="project-title">海南自贸区威中杰信息技术有限公司</span>
        <span class="project-role">全栈开发工程师</span>
        <span class="project-cycle">2019.10 - 2020.9</span>
    </h3>
    <p>・负责数字货币交易所订单撮合引擎,后端，以及交易所安卓端/web前端Vue开发</p>
    <hr class="divider">

    <!--
    <h3 class="header3">
        <span class="project-title">北京邦友科技开发有限公司</span>
        <span class="project-cycle">18.10-19.10(含实习)</span>
    </h3>
    <p>・业务是汽车ECU(电子控制器)的功能测试，以日方提供的脚本语言进行编程，调试</p>
    -->

    <!-- 项目经验的高逼格术语: 锁的粒度、具效化, sso/cas 单点登录, more fine-grained control in exchange(进行更细粒度的控制) -->
    <h2 class="header2">§ 项目经历</h2>

    <h3 class="header3">
        <span class="project-title">Ig Analyzer</span>
        <span class="project-role">Rust开发</span>
        <span class="project-cycle">2020.12 - 至今</span>
    </h3>
    <pre class="project-details">
[项目背景] 公司先前Ins分析App因私有API和隐私问题被下架，尝试移植到Web绕过苹果审核
[技术架构] warp+graphql+mongodb
[主要工作] 1. Facebook oauth授权token的权限检查
　　　　   2. Instagram粉丝国家/城市/年龄/性别分布等统计数据的接口
[项目收获] 1. 通过动态链接库libsystemd.so将Rust的log映射成journalctl的日志
　　　　   2. 掌握FFI调用Rust绑定C的不透明指针类型，了解isahc对libcurl.so回调函数的binding
　　　　   3. 学习ssh -L隧道将远程服务器db端口映射到本地，方便mongodb compass查询浏览数据
　　　　   4. 能熟练使用vscode的lldb对panic的调试，能在linux开发机重现远程服务器的问题
　　　　   5. 熟悉管理单元测试环境变量和配置的各种方法
　　　　   6. 学习lld和march=znver3加速Rust编译，学会开启clippy::pedantic更严格的代码检查
    </pre>

    <h3 class="header3">
        <span class="project-title">Iga business</span>
        <span class="project-role">Rust开发</span>
        <span class="project-cycle">2020.09 - 2020.11</span>
    </h3>
    <pre class="project-details">
[技术架构] tokio+WebSocket+protobuf,用sqlx确保编译时对postgres SQL的检查
[主要工作] 了解时序数据和pg的Timescale插件，对业务的时序数据进行建模和抽象
[项目收获] 1. 加深对tokio::select!和event_loop的理解
　　　　   2. 熟悉协程间通信，能在20分钟内写完tokio聊天服务器(b站直播录像BV1QK4y1G7ao)
    </pre>

    <h3 class="header3">
        <span class="project-title">WebSocket服务器</span>
        <span class="project-role">Rust开发</span>
        <span class="project-cycle">2020.07 - 至今</span>
    </h3>
    <pre class="deprecated"></pre>
    <pre class="project-details">
[项目背景] 老的Ruby版WebSocket服务器负载高内存泄露严重，严重到需要每隔5分钟自动或手动重启去释放资源
[技术架构] 用的是actix框架，一种Actor管理长链接，另一种Actor监听UDP且存储每个频道的客户端订阅
　　　　   UdpActor会缓存其它Ruby脚本发来的上一条推送数据，一旦客户端订阅频道就立即推送缓存的数据
　　　　   SessionActor的析构回调中会通知UdpActor删掉所有频道的订阅列表中已断开连接的Actor地址
[主要工作] 用actix-web重写交易所场外交易WebSocket聊天部分以及行情推送
[项目收获] 学习actix AsyncContext::spawn在同步的handler中嵌入异步的代码的方法
    </pre>

    <h3 class="header3">
        <span class="project-title">数字货币交易所订单撮合引擎</span>
        <span class="project-role">Rust开发</span>
        <span class="project-cycle">2020.04 - 2020.07</span>
    </h3>
    <pre class="deprecated">全角空格[　]</pre>
    <pre class="deprecated">使用泛型复用了所有接口表单中公共参数的校验，例如检查lang字段合法就是通过泛型实现</pre>
    <pre class="deprecated">diesel遇到数据库死锁的问题，使用MySQL的slow_log/general_log排查与调试性能问题，通过添加索引等方式提高性能</pre>
    <pre class="deprecated">静态区间和数据用前缀和，动态区间和数据用线段树；静态排序数据用快排，动态排序数据用堆</pre>
    <pre class="deprecated">由于内存订单数据使用到了堆，所以删除操作是lazy_delete的，发现了thread::spawn内打印log(日志)会运行时异常，而用tokio::spawn则不会发生该错误</pre>
    <pre class="project-details">
[项目介绍] 数字货币交易所的撮合引擎的功能是将价格相近的买单和买单匹配在一起进行成交
[项目成绩] 经ab工具测试，Rust版每秒处理请求数是Ruby版的15-25倍，CPU/内存负载比Ruby版低2个数量级
[技术架构] 1. 技术栈是: tide+sqlx+async-redis，曾经用过actix-web+diesel
　　　　   2. 撮合引擎本质上是一个API服务器，主要由创建订单/撤单/撤销全部三个接口组成
　　　　      三个接口都需要将各参数按字典序加private_key算出数字签名，我开发了一个derive过程宏
　　　　      不仅可以让每个表单在编译时自动实现参数验证的方法，还能用泛型复用三个接口
　　　　   3. 将未完成的订单数据用「优先队列/堆」的数据结构持久化存储在内存中，减少MySQL的负载
　　　　      撮合引擎的买单和卖单本质上是个有序数组，动态有序数据用堆，静态用快排
　　　　   4. 一个进程只负责一个交易对，所有进程都是共用一个可执行文件，通过环境变量/命令行参数区分交易对
[主要工作] 1. 除了数字货币所的撮合引擎还做了一套仿上交所的塔吉克证券交易所撮合引擎，
　　　　      股票撮合引擎的区别是订单的数量单位是一股一手，而且有休盘时间和节假日
　　　　   2. 设计节假日的数据结构，做完了开休盘时间段切换、工作日/节假日切换的功能
　　　　   3. 实现了股票撮合引擎当日加权平均成交收盘价的自动更新，解决了股票成交后账户余额可能变负数的问题
　　　　   4. 设计Rust项目的部署方案，因配置文件编译前常量内联优化到可执行文件中无法交叉编译，通过systemctl重启服务器
　　　　   5. 通过Mutex锁实现了系统的幂等性，尝试降低锁的粒度或无锁编程的方式去优化性能
[项目收获] 1. 异步runtime下要用tokio或async-std的Mutex锁，用std::sync::Mutex在高并发时容易发生死锁
　　　　   2. 熟悉Rust全局共享可变和不可变数据的各种方法
　　　　      在main中创建app_state往后层层传递到各个协程，比OnceCell或Lazy更利于静态分析
　　　　   3. 区分了Rust编译时(env!宏)和运行时环境变量，了解build.rs的工作原理
　　　　   4. 发现rust_decimal库不仅内存大小只有bigdecimal-rs的1/4，而且运算比bigdecimal快2-3倍
    </pre>

    <h3 class="header3">
        <span class="project-title">交易所安卓端APP</span>
        <span class="project-role">安卓开发</span>
        <span class="project-cycle">2020.01 - 2020.04</span>
    </h3>
    <pre class="project-details">
[项目架构] 1. 老的Activity/Fragment页面保持MVP模式不变，新页面尝试使用新技术MVVM
　　　　   2. 通过Parcelable序列化/反序列化接口实现两个页面之间传递Java实例对象
[主要工作] 1. 我做了币币订单列表、法币广告列表、邀请返佣等共计15~20个页面，集成了友盟SDK
    </pre>
    <hr class="divider">

    <h2 class="header2">§ 个人开源项目</h2>
    <h3 class="header3">
        <span class="project-title">WebSocket聊天</span>
        <span class="project-role">Rust/Java/C</span>
        <span class="project-cycle"></span>
    </h3>
    <pre class="project-details">
[项目链接] https://github.com/pymongo/chat_server
[项目介绍] 后端tokio，web端用Vue，mac桌面端用gtk，安卓端用Java，不定期在b站和飞书直播写
[项目收获] 学习gtk的Entry, TreeView, ListStore等组件，理解gtk-rs组件的引用计数和消息传递
    </pre>

    <h3 class="header3">
        <span class="project-title">postgres协议解析器</span>
        <span class="project-role">Rust</span>
        <span class="project-cycle"></span>
    </h3>
    <pre class="project-details">
[项目链接] https://github.com/pymongo/pg_client
[项目介绍] 没有任何第三方库，纯Rust实现的postgres数据库协议解析器和client，暂不支持异步
[项目收获] 1. 学习了字节序little/bigger/naive endian，并掌握查询所用操作系统字节序的方法
　　　　   2. 读写pg消息中的std::ffi::CStr类型，了解通过Cursor读取输入缓冲区中多条消息的方法
    </pre>
    <h3 class="header3">
        <span class="project-title">个人的演讲/讲课视频/开源库</span>
    </h3>
    <pre class="project-details">
演讲:
- Rust唠嗑室14期-树莓派流水灯和时钟驱动: https://www.bilibili.com/video/BV1UV411a78t
- 2020Rust中国大会-Rust在算法上的应用: https://youtu.be/-yqlhg7Pows
- 2021Rust成都meetup-md5生态和openssl绑定: https://www.bilibili.com/video/BV1Y54y1j7za?p=4
教学视频:
- 20分钟写个聊天服务器: https://www.bilibili.com/video/BV1QK4y1G7ao/
- Rust管道进程间通信: https://www.bilibili.com/video/BV1Lv411W7nX
CI/CD相关库:
- typo_checker: 基于rustc私有API和前缀树的拼写错误检查应用
数据结构相关库:
- ypeid_key_hashmap: 类似actix_web::web::Data，key是类型支持存储任意类型的HashMap
驱动类相关库:
- saks(已上传crates.io): 树莓派瑞士军刀扩展版驱动，已完成74HC595和数码管等硬件的驱动
基础设施相关库:
- logger: 针对systemd部署的Rust项目设计的一款高性能logger，支持按时间范围查询日志
    </pre>

    <h2 class="header2">§ 开源社区贡献PR</h2>
    <p>每年平均贡献20-30个PR,主要关注数据库、数值计算、无锁数据结构等领域的开源库</p>
    <p>¶ 数据库相关的PR</p>
    <pre class="project-details">
- mongodb/bson-rust#260: 我优化了bson::DateTime::now()，性能提升70%
- rust-postgres#669: make postgres protocol version value more readable
- sqlx(rust)#319,#581,#592,#1002: 解决了sqlx的Bug#981编译时SQL检查可能hang
- tikv/agatedb#104: 修复了一些clippy的lints
- tensorbase/tensorbase#115: tensorbase是Rust写的类似clickhouse的data warehouse
    </pre>

    <p>¶ 数据结构相关的PR</p>
    <pre class="project-details">
- bigdecimal-rs#66: 我实现了四舍五入的round方法并提供了相关的16个测试用例
    </pre>

    <p>¶ 网络和基础设施相关的PR</p>
    <pre class="project-details">
- actix/examples#298: 删掉了actix-web关闭服务器代码例子中两个无用变量
- BinChengZhao/delay-timer#1: 改进了文档
    </pre>

    <p>¶ 区块链相关的PR</p>
    <pre class="project-details">
- Phala-Network/phala-blockchain#172: use is_empty() to check str/vec whether empty
    </pre>

    <p>¶ 应用相关的PR</p>
    <pre class="project-details">
- wildfirechat/android-chat#330: 野火聊天安卓端，我将一些文案改成tools:text属性(仅preview可见)
- uinb/galois#7,#12: galois是一个股票撮合引擎，基于我之前撮合开发的经验改良了配置文件
    </pre>

    <!--
    <h3 class="header3">
        <span class="project-title">交易所移动端API接口</span>
        <span class="project-role">Ruby开发</span>
        <span class="project-cycle">2019.12 - 2020.04</span>
    </h3>
    <pre class="project-details">
[项目链接] http://new-api.cadex.top/api/v2/swagger_doc
[项目架构] 1. 对于时效性短的数据，存入redis减轻MySQL负载，例如当日取消订单3次就禁止交易的功能
　　　　   2. 使用FactoryBot库结合Faker库通过工厂模式生成测试数据，借助单元测试进行代码重构
[主要工作] 1. 维护老的API接口，为APP的新页面开发接口，我参与开发了30~40个接口以及相应的单元测试
　　　　   2. 分析多表联查时出现N+1查询的原因，通过加单向/双向关联和includes语句解决N+1查询问题
    </pre>

    <div class="project-title">交易所安卓端APP</div>
    <div class="row-padding-lv1">・开发了OkHttpHelper，为每个请求加上签名校验和设备信息(如机型,安卓版本)等参数，方便后端统计</div>
    <div class="row-padding-lv1">・将项目升级为androidx，用navigation-graph重构了底部导航栏，了解dagger2依赖注入</div>
    <div class="row-padding-lv1">・从WebSocket获取数据的RecyclerView改为用SQLite的数据(Room ORM)进行初始化,WebSocket恢复订阅功能</div>

    <div class="project-title">交易所移动端API接口</div>
    <div class="row-padding-lv1">・给所有接口加上数字签名校验，解决「N+1查询」问题，通过ab命令测试接口性能</div>
    <div class="row-padding-lv1">・对于时效性短的数据，存入redis减轻MySQL负载，如当日取消订单3次限制交易的功能通过redis实现</div>

    <div class="project-title">k线画线工具</div>
[项目架构] 「防重入」避免用户重复点击发起多个请求的解决方案：发起请求前禁用按钮，请求response时恢复按钮
[主要工作] 开发读取配置保存配置两个接口，vue-router/props携带参数地在页面中跳转，简单入门了Vue，了解v-for列表渲染，Vue如何发起网络请求
    <div class="row-padding-lv1">・该工具用于绘制低交易量交易对的K线图，是交易所交易数据造假的工具之一</div>

    <div class="project-title">锁仓利息与佣金计算脚本</div>
[项目收获] 浮点数转BigDecimal时只能传字符串的构造方法, 对数据库进行金钱变动操作时要加上事务处理和FOR UPDATE悲观锁避免数据竞争
    </pre>
    <div class="row-padding-lv1">・学习crontab定时任务，建立User表与Account表之间的<b>「双向关联」</b>，简化操作代码</div>

    <div class="project-title">站内转账按邮箱查询功能</div>
    <div class="row-padding-lv1">・需求是同时按转账发起人邮箱和转账接收人邮箱进行查询，转账记录表需要join用户表两次</div>
    <div class="row-padding-lv1">・在ActiveRecord转账记录表上建立了sender/receiver_user_id外键关联</div>

    <div class="project-title">交易所后台管理系统</div>
    <div class="row-padding-lv1">・为所有导出csv下载的链接添加参数过滤(params.slice)，防止携带参数跳转时「无关的数据被暴露」</div>
    <div class="row-padding-lv1">・select2.js添加搜索框，通过参数merge解决了切换语言时GET请求参数被覆盖的问题</div>
    [主要工作] 为所有导出csv下载的链接添加参数过滤(params.slice)，防止携带参数跳转时「无关的数据被暴露」
    -->
</div>

</body>
</html>
